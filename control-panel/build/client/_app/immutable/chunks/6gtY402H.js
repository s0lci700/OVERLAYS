import{a2 as b,R as re,a3 as X,o as S,Z as x,a4 as ae,T as ne,i as q,V as fe,X as se,Y,_ as D,a5 as H,a6 as ie,a7 as oe,a8 as B,q as le,a9 as A,aa as G,ab as ue,ac as te,G as ve,N as de,ad as z,ae as ce,af as _e,ag as pe,ah as K,ai as he,aj as Z,ak as J,al as F,K as Q,am as ge,an as Ee,ao as Ae,ap as Te,aq as Se,ar as Ne,as as me,at as Ie,au as W,av as we,aw as Ce}from"./BpRt2mh-.js";function Fe(e,r){return r}function Me(e,r,n){for(var u=[],t=r.length,l,o=r.length,p=0;p<t;p++){let E=r[p];J(E,()=>{if(l){if(l.pending.delete(E),l.done.add(E),l.pending.size===0){var v=e.outrogroups;y(z(l.done)),v.delete(l),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var i=u.length===0&&n!==null;if(i){var d=n,f=d.parentNode;Ae(f),f.append(d),e.items.clear()}y(r,!i)}else l={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(l)}function y(e,r=!0){for(var n=0;n<e.length;n++)Te(e[n],r)}var P;function Ge(e,r,n,u,t,l=null){var o=e,p=new Map,i=(r&X)!==0;if(i){var d=e;o=S?x(ae(d)):d.appendChild(b())}S&&ne();var f=null,E=ve(()=>{var s=n();return de(s)?s:s==null?[]:z(s)}),v,_=!0;function N(){a.fallback=f,Re(a,v,o,r,u),f!==null&&(v.length===0?(f.f&A)===0?Z(f):(f.f^=A,O(f,null,o)):J(f,()=>{f=null}))}var w=re(()=>{v=q(E);var s=v.length;let C=!1;if(S){var M=fe(o)===se;M!==(s===0)&&(o=Y(),x(o),D(!1),C=!0)}for(var g=new Set,m=le,R=te(),h=0;h<s;h+=1){S&&H.nodeType===ie&&H.data===oe&&(o=H,C=!0,D(!1));var I=v[h],k=u(I,h),c=_?null:p.get(k);c?(c.v&&B(c.v,I),c.i&&B(c.i,h),R&&m.unskip_effect(c.e)):(c=ke(p,_?o:P??=b(),I,k,h,t,r,n),_||(c.e.f|=A),p.set(k,c)),g.add(k)}if(s===0&&l&&!f&&(_?f=G(()=>l(o)):(f=G(()=>l(P??=b())),f.f|=A)),s>g.size&&ue(),S&&s>0&&x(Y()),!_)if(R){for(const[j,ee]of p)g.has(j)||m.skip_effect(ee.e);m.oncommit(N),m.ondiscard(()=>{})}else N();C&&D(!0),q(E)}),a={effect:w,items:p,outrogroups:null,fallback:f};_=!1,S&&(o=H)}function L(e){for(;e!==null&&(e.f&ge)===0;)e=e.next;return e}function Re(e,r,n,u,t){var l=(u&Ee)!==0,o=r.length,p=e.items,i=L(e.effect.first),d,f=null,E,v=[],_=[],N,w,a,s;if(l)for(s=0;s<o;s+=1)N=r[s],w=t(N,s),a=p.get(w).e,(a.f&A)===0&&(a.nodes?.a?.measure(),(E??=new Set).add(a));for(s=0;s<o;s+=1){if(N=r[s],w=t(N,s),a=p.get(w).e,e.outrogroups!==null)for(const c of e.outrogroups)c.pending.delete(a),c.done.delete(a);if((a.f&A)!==0)if(a.f^=A,a===i)O(a,null,n);else{var C=f?f.next:i;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),T(e,f,a),T(e,a,C),O(a,C,n),f=a,v=[],_=[],i=L(f.next);continue}if((a.f&F)!==0&&(Z(a),l&&(a.nodes?.a?.unfix(),(E??=new Set).delete(a))),a!==i){if(d!==void 0&&d.has(a)){if(v.length<_.length){var M=_[0],g;f=M.prev;var m=v[0],R=v[v.length-1];for(g=0;g<v.length;g+=1)O(v[g],M,n);for(g=0;g<_.length;g+=1)d.delete(_[g]);T(e,m.prev,R.next),T(e,f,m),T(e,R,M),i=M,f=R,s-=1,v=[],_=[]}else d.delete(a),O(a,i,n),T(e,a.prev,a.next),T(e,a,f===null?e.effect.first:f.next),T(e,f,a),f=a;continue}for(v=[],_=[];i!==null&&i!==a;)(d??=new Set).add(i),_.push(i),i=L(i.next);if(i===null)continue}(a.f&A)===0&&v.push(a),f=a,i=L(a.next)}if(e.outrogroups!==null){for(const c of e.outrogroups)c.pending.size===0&&(y(z(c.done)),e.outrogroups?.delete(c));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||d!==void 0){var h=[];if(d!==void 0)for(a of d)(a.f&F)===0&&h.push(a);for(;i!==null;)(i.f&F)===0&&i!==e.fallback&&h.push(i),i=L(i.next);var I=h.length;if(I>0){var k=(u&X)!==0&&o===0?n:null;if(l){for(s=0;s<I;s+=1)h[s].nodes?.a?.measure();for(s=0;s<I;s+=1)h[s].nodes?.a?.fix()}Me(e,h,k)}}l&&Q(()=>{if(E!==void 0)for(a of E)a.nodes?.a?.apply()})}function ke(e,r,n,u,t,l,o,p){var i=(o&ce)!==0?(o&_e)===0?pe(n,!1,!1):K(n):null,d=(o&he)!==0?K(t):null;return{v:i,i:d,e:G(()=>(l(r,i??n,d??t,p),()=>{e.delete(u)}))}}function O(e,r,n){if(e.nodes)for(var u=e.nodes.start,t=e.nodes.end,l=r&&(r.f&A)===0?r.nodes.start:n;u!==null;){var o=Se(u);if(l.before(u),u===t)return;u=o}}function T(e,r,n){r===null?e.effect.first=n:r.next=n,n===null?e.effect.last=r:n.prev=r}const Le=Symbol("is custom element"),Oe=Symbol("is html"),He=W?"link":"LINK",be=W?"progress":"PROGRESS";function ye(e){if(S){var r=!1,n=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var u=e.value;U(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var t=e.checked;U(e,"checked",null),e.checked=t}}};e.__on_r=n,Q(n),Ne()}}function ze(e,r){var n=$(e);n.value===(n.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!==be)||(e.value=r??"")}function U(e,r,n,u){var t=$(e);S&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName===He)||t[r]!==(t[r]=n)&&(r==="loading"&&(e[me]=n),n==null?e.removeAttribute(r):typeof n!="string"&&xe(e).includes(r)?e[r]=n:e.setAttribute(r,n))}function $(e){return e.__attributes??={[Le]:e.nodeName.includes("-"),[Oe]:e.namespaceURI===Ie}}var V=new Map;function xe(e){var r=e.getAttribute("is")||e.nodeName,n=V.get(r);if(n)return n;V.set(r,n=[]);for(var u,t=e,l=Element.prototype;l!==t;){u=Ce(t);for(var o in u)u[o].set&&n.push(o);t=we(t)}return n}export{U as a,Ge as e,Fe as i,ye as r,ze as s};
