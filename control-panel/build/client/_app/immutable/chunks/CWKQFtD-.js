import"./DsnmJJEf.js";import{p as Ee,d as te,i as o,L as y,t as _,a as Ue,M as N,N as oe,c as d,s as p,r as k,f as Ae}from"./ab1WaRnl.js";import{d as Ne,a as v,s as se,e as G,r as Ge}from"./Cxuf-16e.js";import{a as m,f}from"./C0gwv_6f.js";import{i as re}from"./D5oBZPha.js";import{e as Me,r as ie,a as ne,s as We}from"./hbQhw9FI.js";import{s as n}from"./CRAvAg1A.js";import{i as He,s as Ie}from"./bxKVI7mh.js";import{p as c,b as xe}from"./D-KA_8Fk.js";var Re=f("<option> </option>"),Ve=f("<select></select>"),ze=f('<div><input type="url" placeholder="https://..."/> <button type="button" aria-label="Limpiar URL">✕</button></div>'),Fe=f('<input type="file" class="photo-file-input-hidden" accept="image/*"/> <div role="button" tabindex="0"><span class="photo-dropzone-title">Arrastra imagen aquí</span> <span class="photo-dropzone-subtitle">o toca para elegir archivo</span></div> <div><input type="text" readonly=""/> <button type="button" aria-label="Limpiar archivo">✕</button></div>',1),Oe=f('<div class="photo-preview-wrap" aria-live="polite"><span class="label-caps">Preview</span> <img alt="Preview foto"/></div>'),Ke=f('<p class="photo-picker-error">No se pudo cargar el preview de la imagen.</p>'),Be=f('<section aria-label="Fuente de foto"><span class="label-caps"> </span> <div class="photo-content"><div class="photo-controls"><div class="photo-segment-controls" role="tablist" aria-label="Tipo de foto"><button type="button">Preset</button> <button type="button">URL</button> <button type="button">Archivo Local</button></div> <!></div> <!></div></section>');function dl(ce,s){Ee(s,!0);let ue=c(s,"title",3,""),z=c(s,"options",19,()=>[]),g=c(s,"source",3,"preset"),P=c(s,"presetValue",3,""),F=c(s,"urlValue",3,""),O=c(s,"localValue",3,""),r=c(s,"dense",3,!1),K=c(s,"serverUrl",3,""),M=c(s,"onSourceChange",3,()=>{}),be=c(s,"onPresetChange",3,()=>{}),B=c(s,"onUrlChange",3,()=>{}),w=c(s,"onLocalChange",3,()=>{}),W=c(s,"onError",3,()=>{}),L=N(!1),S=N(!1),T=N(void 0),E=N("");function Z(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")||e.startsWith("blob:")?e:e.startsWith("/")?`${K()}${e}`:`${K()}/${e.replace(/^\/+/,"")}`:""}function pe(e){return new Promise((l,t)=>{const a=new FileReader;a.onload=()=>l(String(a.result||"")),a.onerror=()=>t(new Error("No se pudo leer el archivo")),a.readAsDataURL(e)})}async function j(e){if(!e){w()("");return}if(!e.type.startsWith("image/")){W()("El archivo debe ser una imagen."),w()("");return}try{const l=await pe(e);w()(l),W()(""),y(S,!1)}catch(l){console.error("Error reading local photo",l),W()("No se pudo procesar la imagen local."),w()("")}}async function ke(e){const l=e.currentTarget.files?.[0];await j(l)}function q(){o(T)?.click()}function ve(e){e.preventDefault(),y(L,!0)}function ye(e){e.preventDefault(),y(L,!1)}async function de(e){e.preventDefault(),y(L,!1);const l=e.dataTransfer?.files?.[0];await j(l)}function he(){B()("")}function ge(){w()(""),o(T)&&(o(T).value="")}const me=oe(()=>g()==="local"?O():g()==="url"?F().trim():P()),U=oe(()=>Z(o(me)));te(()=>{o(U),y(S,!1)});function fe(){y(S,!0)}te(()=>{const e=z().map(t=>t.value).filter(t=>typeof t=="string"&&t.trim().length>0);if(e.length===0){y(E,"");return}const l=Math.floor(Math.random()*e.length);y(E,e[l],!0)});var A=Be();let J;var H=d(A),_e=d(H,!0);k(H);var Q=p(H,2),I=d(Q),x=d(I),R=d(x);let X;var V=p(R,2);let Y;var $=p(V,2);let ee;k(x);var we=p(x,2);{var Se=e=>{var l=Ve();let t;Me(l,21,z,i=>i.value,(i,b)=>{var u=Re(),h=d(u,!0);k(u);var C={};_(()=>{se(h,o(b).label),C!==(C=o(b).value)&&(u.value=(u.__value=o(b).value)??"")}),m(i,u)}),k(l);var a;He(l),_(()=>{t=n(l,1,"photo-select",null,t,{dense:r()}),a!==(a=P())&&(l.value=(l.__value=P())??"",Ie(l,P()))}),v("change",l,i=>be()(i.currentTarget.value)),m(e,l)},Te=e=>{var l=ze();let t;var a=d(l);ie(a);let i;var b=p(a,2);let u;k(l),_(()=>{t=n(l,1,"photo-input-row",null,t,{dense:r()}),ne(a,F()),i=n(a,1,"",null,i,{dense:r()}),u=n(b,1,"photo-clear-btn",null,u,{dense:r()})}),v("input",a,h=>B()(h.currentTarget.value)),v("click",b,he),m(e,l)},Ce=e=>{var l=Fe(),t=Ae(l);xe(t,D=>y(T,D),()=>o(T));var a=p(t,2);let i;var b=p(a,2);let u;var h=d(b);ie(h);let C;var le=p(h,2);let ae;k(b),_(()=>{i=n(a,1,"photo-dropzone",null,i,{dense:r(),active:o(L)}),u=n(b,1,"photo-input-row",null,u,{dense:r()}),C=n(h,1,"photo-file-input",null,C,{dense:r()}),ne(h,O()?"Imagen local cargada ✅":"Sin archivo"),ae=n(le,1,"photo-clear-btn",null,ae,{dense:r()})}),v("change",t,ke),G("dragover",a,ve),G("dragleave",a,ye),G("drop",a,de),v("click",a,q),v("keydown",a,D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),q())}),v("click",le,ge),m(e,l)};re(we,e=>{g()==="preset"?e(Se):g()==="url"?e(Te,1):e(Ce,!1)})}k(I);var De=p(I,2);{var Pe=e=>{var l=Oe(),t=p(d(l),2);let a;k(l),_(i=>{We(t,"src",i),a=n(t,1,"photo-preview",null,a,{dense:r()})},[()=>o(U)||Z(o(E))]),G("error",t,fe),Ge(t),m(e,l)},Le=e=>{var l=Ke();m(e,l)};re(De,e=>{(o(U)||o(E))&&!o(S)?e(Pe):o(U)&&o(S)&&e(Le,1)})}k(Q),k(A),_(()=>{J=n(A,1,"photo-picker",null,J,{dense:r()}),se(_e,ue()),X=n(R,1,"photo-segment-btn",null,X,{dense:r(),active:g()==="preset"}),Y=n(V,1,"photo-segment-btn",null,Y,{dense:r(),active:g()==="url"}),ee=n($,1,"photo-segment-btn",null,ee,{dense:r(),active:g()==="local"})}),v("click",R,()=>M()("preset")),v("click",V,()=>M()("url")),v("click",$,()=>M()("local")),m(ce,A),Ue()}Ne(["click","change","input","keydown"]);const Ze=[{key:"barbarian",label:"Barbarian"},{key:"bard",label:"Bard"},{key:"cleric",label:"Cleric"},{key:"druid",label:"Druid"},{key:"fighter",label:"Fighter"},{key:"monk",label:"Monk"},{key:"paladin",label:"Paladin"},{key:"ranger",label:"Ranger"},{key:"rogue",label:"Rogue"},{key:"sorcerer",label:"Sorcerer"},{key:"warlock",label:"Warlock"},{key:"wizard",label:"Wizard"}],je=[],qe=[{key:"acolyte",label:"Acolyte"},{key:"criminal",label:"Criminal"},{key:"sage",label:"Sage"},{key:"soldier",label:"Soldier"}],Je=[],Qe=[{key:"dragonborn",label:"Dragonborn"},{key:"dwarf",label:"Dwarf"},{key:"elf",label:"Elf"},{key:"gnome",label:"Gnome"},{key:"goliath",label:"Goliath"},{key:"halfling",label:"Halfling"},{key:"human",label:"Human"},{key:"orc",label:"Orc"},{key:"tiefling",label:"Tiefling"}],Xe=[{key:"small",label:"Small"},{key:"medium",label:"Medium"}],Ye=[{key:"common",label:"Common"},{key:"common_sign",label:"Common Sign Language"},{key:"draconic",label:"Draconic"},{key:"dwarvish",label:"Dwarvish"},{key:"elvish",label:"Elvish"},{key:"giant",label:"Giant"},{key:"gnomish",label:"Gnomish"},{key:"goblin",label:"Goblin"},{key:"halfling",label:"Halfling"},{key:"orc",label:"Orc"}],$e=[{key:"abyssal",label:"Abyssal"},{key:"celestial",label:"Celestial"},{key:"deep_speech",label:"Deep Speech"},{key:"druidic",label:"Druidic"},{key:"infernal",label:"Infernal"},{key:"primordial",label:"Primordial"},{key:"sylvan",label:"Sylvan"},{key:"thieves_cant",label:"Thieves' Cant"},{key:"undercommon",label:"Undercommon"}],el=[{key:"lg",label:"Lawful Good"},{key:"ng",label:"Neutral Good"},{key:"cg",label:"Chaotic Good"},{key:"ln",label:"Lawful Neutral"},{key:"n",label:"Neutral"},{key:"cn",label:"Chaotic Neutral"},{key:"le",label:"Lawful Evil"},{key:"ne",label:"Neutral Evil"},{key:"ce",label:"Chaotic Evil"}],ll=[{key:"athletics",label:"Athletics"},{key:"acrobatics",label:"Acrobatics"},{key:"sleight_of_hand",label:"Sleight of Hand"},{key:"stealth",label:"Stealth"},{key:"arcana",label:"Arcana"},{key:"history",label:"History"},{key:"investigation",label:"Investigation"},{key:"nature",label:"Nature"},{key:"religion",label:"Religion"},{key:"animal_handling",label:"Animal Handling"},{key:"insight",label:"Insight"},{key:"medicine",label:"Medicine"},{key:"perception",label:"Perception"},{key:"survival",label:"Survival"},{key:"deception",label:"Deception"},{key:"intimidation",label:"Intimidation"},{key:"performance",label:"Performance"},{key:"persuasion",label:"Persuasion"}],al=[{key:"alchemists_supplies",label:"Alchemist's Supplies"},{key:"brewers_supplies",label:"Brewer's Supplies"},{key:"calligraphers_supplies",label:"Calligrapher's Supplies"},{key:"carpenters_tools",label:"Carpenter's Tools"},{key:"cobblers_tools",label:"Cobbler's Tools"},{key:"cooks_utensils",label:"Cook's Utensils"},{key:"glassblowers_tools",label:"Glassblower's Tools"},{key:"jewelers_tools",label:"Jeweler's Tools"},{key:"leatherworkers_tools",label:"Leatherworker's Tools"},{key:"masons_tools",label:"Mason's Tools"},{key:"painters_supplies",label:"Painter's Supplies"},{key:"potters_tools",label:"Potter's Tools"},{key:"smiths_tools",label:"Smith's Tools"},{key:"tinkers_tools",label:"Tinker's Tools"},{key:"weavers_tools",label:"Weaver's Tools"},{key:"woodcarvers_tools",label:"Woodcarver's Tools"},{key:"disguise_kit",label:"Disguise Kit"},{key:"forgery_kit",label:"Forgery Kit"},{key:"gaming_set",label:"Gaming Set"},{key:"herbalism_kit",label:"Herbalism Kit"},{key:"musical_instrument",label:"Musical Instrument"},{key:"navigator_tools",label:"Navigator's Tools"},{key:"poisoners_kit",label:"Poisoner's Kit"},{key:"thieves_tools",label:"Thieves' Tools"}],tl=[{key:"light",label:"Light"},{key:"medium",label:"Medium"},{key:"heavy",label:"Heavy"},{key:"shields",label:"Shields"}],ol=[{key:"simple",label:"Simple"},{key:"martial",label:"Martial"}],sl=[],rl=[],hl={classes:Ze,subclasses:je,backgrounds:qe,feats:Je,species:Qe,sizes:Xe,languages:Ye,rare_languages:$e,alignments:el,skills:ll,tools:al,armor_proficiencies:tl,weapon_proficiencies:ol,items:sl,trinkets:rl};export{dl as P,hl as c};
