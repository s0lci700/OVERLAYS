{"version":3,"file":"_page.svelte-B6bzClFb.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/_page.svelte.js"],"sourcesContent":["import { a8 as attr, e as escape_html, ab as ensure_array_like, s as store_get, u as unsubscribe_stores, d as derived$1 } from \"../../../chunks/index2.js\";\nimport { S as SERVER_URL, s as socket, c as characters } from \"../../../chunks/socket.js\";\nimport { d as derived, w as writable } from \"../../../chunks/index.js\";\nfunction DashboardCard($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    const FALLBACK_PHOTO_OPTIONS = [\n      \"/assets/img/barbarian.png\",\n      \"/assets/img/elf.png\",\n      \"/assets/img/wizard.png\"\n    ];\n    const abilityList = [\n      { key: \"str\", label: \"STR\" },\n      { key: \"dex\", label: \"DEX\" },\n      { key: \"con\", label: \"CON\" },\n      { key: \"int\", label: \"INT\" },\n      { key: \"wis\", label: \"WIS\" },\n      { key: \"cha\", label: \"CHA\" }\n    ];\n    const rechargeLabels = {\n      SHORT_REST: \"descanso corto\",\n      LONG_REST: \"descanso largo\",\n      TURN: \"turno\",\n      DM: \"DM\"\n    };\n    let { character } = $$props;\n    function resolvePhotoSrc(photoPath) {\n      if (!photoPath) {\n        const randomOption = FALLBACK_PHOTO_OPTIONS[Math.floor(Math.random() * FALLBACK_PHOTO_OPTIONS.length)];\n        return `${SERVER_URL}${randomOption}`;\n      }\n      if (photoPath.startsWith(\"http://\") || photoPath.startsWith(\"https://\") || photoPath.startsWith(\"data:\") || photoPath.startsWith(\"blob:\")) {\n        return photoPath;\n      }\n      if (photoPath.startsWith(\"/\")) {\n        return `${SERVER_URL}${photoPath}`;\n      }\n      return `${SERVER_URL}/${photoPath.replace(/^\\/+/, \"\")}`;\n    }\n    function formatText(value) {\n      if (typeof value === \"string\") {\n        const trimmed = value.trim();\n        return trimmed ? trimmed : \"no definida\";\n      }\n      return \"no definida\";\n    }\n    function formatNumber(value) {\n      return Number.isFinite(value) ? String(value) : \"no definida\";\n    }\n    function formatHp(current, max) {\n      if (!Number.isFinite(current) || !Number.isFinite(max)) {\n        return \"no definida\";\n      }\n      return `${current}/${max}`;\n    }\n    function formatCondition(condition) {\n      const name = formatText(condition?.condition_name);\n      if (name === \"no definida\") return name;\n      if (Number.isFinite(condition?.intensity_level)) {\n        return `${name} Â· nivel ${condition.intensity_level}`;\n      }\n      return name;\n    }\n    function formatResourceCount(resource) {\n      if (!resource) return \"no definida\";\n      if (!Number.isFinite(resource.pool_current) || !Number.isFinite(resource.pool_max)) {\n        return \"no definida\";\n      }\n      return `${resource.pool_current}/${resource.pool_max}`;\n    }\n    function formatRecharge(recharge) {\n      return rechargeLabels[recharge] || \"no definida\";\n    }\n    function getSafeName() {\n      const name = typeof character?.name === \"string\" ? character.name.trim() : \"\";\n      return name || \"personaje\";\n    }\n    $$renderer2.push(`<article class=\"dashboard-card card-base\"><header class=\"dash-card-header\"><img class=\"dash-photo\"${attr(\"src\", resolvePhotoSrc(character?.photo || \"\"))}${attr(\"alt\", `Foto de ${getSafeName()}`)} loading=\"lazy\"/> <div class=\"dash-identity\"><div class=\"dash-name-row\"><span class=\"dash-name\">${escape_html(formatText(character?.name))}</span> <span class=\"dash-id\">#${escape_html(formatText(character?.id))}</span></div> <span class=\"dash-player\">Jugador: ${escape_html(formatText(character?.player))}</span> <div class=\"dash-vitals\"><div class=\"dash-vital\"><span class=\"dash-vital-label\">HP</span> <span class=\"dash-vital-value mono-num\">${escape_html(formatHp(character?.hp_current, character?.hp_max))}</span></div> <div class=\"dash-vital\"><span class=\"dash-vital-label\">Temp</span> <span class=\"dash-vital-value mono-num\">${escape_html(formatNumber(character?.hp_temp))}</span></div> <div class=\"dash-vital\"><span class=\"dash-vital-label\">AC</span> <span class=\"dash-vital-value mono-num\">${escape_html(formatNumber(character?.armor_class))}</span></div> <div class=\"dash-vital\"><span class=\"dash-vital-label\">Vel</span> <span class=\"dash-vital-value mono-num\">${escape_html(formatNumber(character?.speed_walk))}</span></div></div></div></header> <section class=\"dash-section\"><h3 class=\"dash-section-title\">ATRIBUTOS</h3> <div class=\"dash-ability-grid\"><!--[-->`);\n    const each_array = ensure_array_like(abilityList);\n    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n      let ability = each_array[$$index];\n      $$renderer2.push(`<div class=\"dash-ability\"><span class=\"dash-ability-label\">${escape_html(ability.label)}</span> <span class=\"dash-ability-value mono-num\">${escape_html(formatNumber(character?.ability_scores?.[ability.key]))}</span></div>`);\n    }\n    $$renderer2.push(`<!--]--></div></section> <section class=\"dash-section\"><h3 class=\"dash-section-title\">CONDICIONES</h3> `);\n    if (Array.isArray(character?.conditions) && character.conditions.length) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"dash-pill-row\"><!--[-->`);\n      const each_array_1 = ensure_array_like(character.conditions);\n      for (let $$index_1 = 0, $$length = each_array_1.length; $$index_1 < $$length; $$index_1++) {\n        let condition = each_array_1[$$index_1];\n        $$renderer2.push(`<span class=\"dash-pill\">${escape_html(formatCondition(condition))}</span>`);\n      }\n      $$renderer2.push(`<!--]--></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`<p class=\"dash-empty\">no definida</p>`);\n    }\n    $$renderer2.push(`<!--]--></section> <section class=\"dash-section\"><h3 class=\"dash-section-title\">RECURSOS</h3> `);\n    if (Array.isArray(character?.resources) && character.resources.length) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"dash-resource-grid\"><!--[-->`);\n      const each_array_2 = ensure_array_like(character.resources);\n      for (let $$index_2 = 0, $$length = each_array_2.length; $$index_2 < $$length; $$index_2++) {\n        let resource = each_array_2[$$index_2];\n        $$renderer2.push(`<div class=\"dash-resource\"><span class=\"dash-resource-name\">${escape_html(formatText(resource?.name))}</span> <span class=\"dash-resource-count mono-num\">${escape_html(formatResourceCount(resource))}</span> <span class=\"dash-resource-recharge\">${escape_html(formatRecharge(resource?.recharge))}</span></div>`);\n      }\n      $$renderer2.push(`<!--]--></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`<p class=\"dash-empty\">no definida</p>`);\n    }\n    $$renderer2.push(`<!--]--></section></article>`);\n  });\n}\nconst pendingActions = writable([]);\nconst history = writable([]);\nderived(pendingActions, ($pending) => $pending.length > 0);\nconst MAX_HISTORY = 40;\nfunction recordHistory(entry) {\n  history.update((list) => {\n    const next = [...list, { timestamp: Date.now(), ...entry }];\n    if (next.length > MAX_HISTORY) next.shift();\n    return next;\n  });\n}\nsocket.on(\"hp_updated\", ({ character, hp_current }) => {\n  recordHistory({\n    type: \"hp\",\n    label: `${character.name} HP`,\n    value: `${hp_current}/${character.hp_max}`,\n    detail: \"Health updated\"\n  });\n});\nsocket.on(\"resource_updated\", ({ charId, resource }) => {\n  recordHistory({\n    type: \"resource\",\n    label: `Character ${charId} resource`,\n    value: `${resource.pool_current}/${resource.pool_max}`,\n    detail: `Updated ${resource.name}`\n  });\n});\nsocket.on(\"condition_added\", ({ charId, condition }) => {\n  recordHistory({\n    type: \"condition\",\n    label: \"Condition added\",\n    value: condition.condition_name,\n    detail: charId\n  });\n});\nsocket.on(\"condition_removed\", ({ charId, conditionId }) => {\n  recordHistory({\n    type: \"condition\",\n    label: \"Condition removed\",\n    value: conditionId,\n    detail: charId\n  });\n});\nsocket.on(\"rest_taken\", ({ charId, type }) => {\n  recordHistory({\n    type: \"rest\",\n    label: `Rest (${type})`,\n    value: charId,\n    detail: \"Resources restored\"\n  });\n});\nsocket.on(\"dice_rolled\", (payload) => {\n  recordHistory({\n    type: \"roll\",\n    label: `${payload.characterName || payload.charId} rolled`,\n    value: `${payload.rollResult}`,\n    detail: `d${payload.sides} + ${payload.modifier ?? 0}`\n  });\n});\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    var $$store_subs;\n    let actionHistory = derived$1(() => store_get($$store_subs ??= {}, \"$history\", history).filter((entry) => entry.type !== \"roll\").slice(-10).reverse());\n    let rollHistory = derived$1(() => store_get($$store_subs ??= {}, \"$history\", history).filter((entry) => entry.type === \"roll\").slice(-10).reverse());\n    function formatTime(timestamp) {\n      try {\n        return new Date(timestamp).toLocaleTimeString(\"es-CL\", { hour: \"2-digit\", minute: \"2-digit\" });\n      } catch {\n        return \"\";\n      }\n    }\n    $$renderer2.push(`<section class=\"dashboard-shell\"><header class=\"dashboard-header\"><h1 class=\"dashboard-title\">Dashboard de personajes</h1> <p class=\"dashboard-subtitle\">Vista en vivo para mesa o pantalla principal. Campos vacios muestran \"no\n      definida\".</p></header> `);\n    if (store_get($$store_subs ??= {}, \"$characters\", characters).length === 0) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"dashboard-empty\"><p class=\"dashboard-empty-title\">Sin personajes activos</p> <p class=\"dashboard-empty-subtitle\">Crea personajes desde el panel de control o espera la sincronizacion.</p></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`<div class=\"dashboard-grid\"><!--[-->`);\n      const each_array = ensure_array_like(store_get($$store_subs ??= {}, \"$characters\", characters));\n      for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n        let character = each_array[$$index];\n        DashboardCard($$renderer2, { character });\n      }\n      $$renderer2.push(`<!--]--></div>`);\n    }\n    $$renderer2.push(`<!--]--> <section class=\"dashboard-meta\"><div class=\"dashboard-log\"><div class=\"dashboard-log-head\"><h2 class=\"dashboard-log-title\">Ultimas acciones</h2></div> <ul class=\"dashboard-log-list\"><!--[-->`);\n    const each_array_1 = ensure_array_like(actionHistory());\n    for (let $$index_1 = 0, $$length = each_array_1.length; $$index_1 < $$length; $$index_1++) {\n      let entry = each_array_1[$$index_1];\n      $$renderer2.push(`<li class=\"dashboard-log-item\"><span class=\"dashboard-log-time\">${escape_html(formatTime(entry.timestamp))}</span> <div class=\"dashboard-log-body\"><span class=\"dashboard-log-label\">${escape_html(entry.label)}</span> <span class=\"dashboard-log-value\">${escape_html(entry.value)}</span> `);\n      if (entry.detail) {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`<span class=\"dashboard-log-detail\">${escape_html(entry.detail)}</span>`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n      }\n      $$renderer2.push(`<!--]--></div></li>`);\n    }\n    $$renderer2.push(`<!--]--></ul></div> <div class=\"dashboard-log\"><div class=\"dashboard-log-head\"><h2 class=\"dashboard-log-title\">Ultimos dados</h2></div> <ul class=\"dashboard-log-list\"><!--[-->`);\n    const each_array_2 = ensure_array_like(rollHistory());\n    for (let $$index_2 = 0, $$length = each_array_2.length; $$index_2 < $$length; $$index_2++) {\n      let entry = each_array_2[$$index_2];\n      $$renderer2.push(`<li class=\"dashboard-log-item\"><span class=\"dashboard-log-time\">${escape_html(formatTime(entry.timestamp))}</span> <div class=\"dashboard-log-body\"><span class=\"dashboard-log-label\">${escape_html(entry.label)}</span> <span class=\"dashboard-log-value\">${escape_html(entry.value)}</span> `);\n      if (entry.detail) {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`<span class=\"dashboard-log-detail\">${escape_html(entry.detail)}</span>`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n      }\n      $$renderer2.push(`<!--]--></div></li>`);\n    }\n    $$renderer2.push(`<!--]--></ul></div></section></section>`);\n    if ($$store_subs) unsubscribe_stores($$store_subs);\n  });\n}\nexport {\n  _page as default\n};\n"],"names":["derived","derived$1"],"mappings":"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"}