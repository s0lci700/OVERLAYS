.char-card{position:relative;overflow:hidden;transition:border-color var(--t-fast);transition:all ease-out .2s}.hit-flash{position:absolute;inset:0;background:#ff4d6a33;pointer-events:none;opacity:0;border-radius:inherit}.char-card.is-critical{border-color:var(--red)}.char-card.collapsed{gap:var(--space-3);padding-bottom:var(--space-3);transition:all ease-out .3s}.char-header{display:flex;align-items:flex-start;justify-content:space-between;gap:var(--space-3)}.char-photo{width:80px;height:80px;border-radius:var(--radius-md);object-fit:cover;object-position:center;border:2px solid var(--grey-dim);flex-shrink:0}.char-header-actions{display:flex;align-items:center;gap:var(--space-2);flex-shrink:0}.char-identity{display:flex;flex-direction:column;gap:2px;min-width:0;overflow:hidden}.char-name{font-family:var(--font-display);font-size:1.75rem;color:var(--white);text-transform:uppercase;letter-spacing:.02em;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.char-player{font-size:.7rem;color:var(--grey);text-transform:uppercase;letter-spacing:.1em}.char-hp-nums{display:flex;align-items:baseline;gap:2px;flex-shrink:0}.collapse-toggle{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);border:1px solid var(--grey-dim);background:var(--black-elevated);color:var(--grey);transition:background var(--t-fast),color var(--t-fast),border-color var(--t-fast)}.collapse-toggle:hover{background:var(--grey-dim);color:var(--white);border-color:var(--grey)}.collapse-icon{display:inline-block;transition:transform var(--t-fast)}.char-body{will-change:height,opacity}.char-card.collapsed .collapse-icon{transform:rotate(-90deg)}.hp-cur{font-family:var(--font-mono);font-size:2.25rem;font-weight:700;color:var(--white);line-height:1;transition:color var(--t-fast)}.hp-cur.critical{color:var(--red)}.hp-sep{font-family:var(--font-mono);font-size:1.25rem;color:var(--grey);line-height:1}.hp-max{font-family:var(--font-mono);font-size:.9rem;color:var(--grey);line-height:1}.hp-track{height:6px;background:#222;border-radius:var(--radius-pill);overflow:hidden;margin-top:var(--space-2)}.hp-fill{height:100%;border-radius:var(--radius-pill);transition:width .4s cubic-bezier(.4,0,.2,1),background var(--t-normal)}.hp-fill.hp--healthy{background:linear-gradient(90deg,#15803d,#22c55e);box-shadow:0 0 6px #22c55e66}.hp-fill.hp--injured{background:linear-gradient(90deg,#b45309,#f59e0b);box-shadow:0 0 6px #f59e0b66}.hp-fill.hp--critical{background:linear-gradient(90deg,#991b1b,#ff4d6a);box-shadow:0 0 6px #ff4d6a66;animation:barPulse 1.5s ease-in-out infinite}@keyframes barPulse{0%,to{opacity:1}50%{opacity:.6}}.char-controls{display:grid;grid-template-columns:1fr auto 1fr;gap:var(--space-2);align-items:center;margin-top:var(--space-3);margin-bottom:var(--space-2)}.btn-damage{background:var(--red-dim);border-color:var(--red);color:var(--red)}.btn-damage:hover{background:var(--red);color:var(--white);box-shadow:var(--shadow-red)}.btn-heal{background:var(--cyan-dim);border-color:var(--cyan);color:var(--cyan)}.btn-heal:hover{background:var(--cyan);color:var(--black);box-shadow:var(--shadow-cyan)}.stepper-cluster{display:flex;align-items:center;gap:var(--space-1);background:var(--black-elevated);border:1px solid var(--grey-dim);border-radius:var(--radius-md);padding:var(--space-1)}.stepper{width:32px;height:32px;display:grid;place-items:center;border-radius:var(--radius-sm);color:var(--grey);font-size:1.25rem;font-weight:700;font-variant-numeric:tabular-nums;transition:background var(--t-fast),color var(--t-fast)}.stepper-text{display:block;transform:translateY(-.1em)}.stepper:hover{background:var(--grey-dim);color:var(--white)}.amount-input{width:48px;text-align:center;font-family:var(--font-mono);font-size:1.1rem;font-weight:700;color:var(--white)}.char-stats{display:flex;align-items:center;gap:var(--space-3)}.stat-item{display:flex;align-items:baseline;gap:var(--space-1)}.stat-label{font-family:var(--font-display);font-size:.75rem;color:var(--grey);letter-spacing:.1em}.stat-value{font-family:var(--font-mono);font-size:1rem;font-weight:700;color:var(--white)}.stat-divider{color:var(--grey-dim);font-size:.75rem}.conditions-row{display:flex;flex-wrap:wrap;gap:var(--space-2)}.condition-pill{display:inline-flex;align-items:center;gap:var(--space-1);padding:var(--space-1) var(--space-3);background:#ff4d6a1f;border:1px solid var(--red);border-radius:var(--radius-pill);color:var(--red);font-family:var(--font-display);font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;transition:background var(--t-fast),color var(--t-fast)}.condition-pill:hover{background:var(--red);color:var(--white)}.resources-section{display:flex;flex-direction:column;gap:var(--space-3);margin-top:var(--space-1);margin-bottom:var(--space-2)}.resource-row{display:flex;align-items:center;justify-content:space-between;gap:var(--space-3)}.resource-label{font-family:var(--font-display);font-size:.8rem;color:var(--grey);letter-spacing:.1em;flex-shrink:0}.resource-pips{display:flex;gap:var(--space-2);flex-wrap:wrap;justify-content:flex-end}.pip{width:20px;height:20px;border-radius:50%;border:2px solid;cursor:pointer;transition:background var(--t-fast),box-shadow var(--t-fast),transform var(--t-fast)}.pip:active{transform:scale(.85)}.pip--long_rest{border-color:var(--red)}.pip--long_rest.pip--filled{background:var(--red);box-shadow:0 0 6px #ff4d6a80}.pip--short_rest{border-color:var(--cyan)}.pip--short_rest.pip--filled{background:var(--cyan);box-shadow:0 0 6px #00d4e880}.pip--turn,.pip--dm{border-color:var(--grey)}.pip--turn.pip--filled,.pip--dm.pip--filled{background:var(--grey)}.rest-section{display:flex;flex-direction:column;gap:var(--space-2)}.rest-buttons{border:1px solid var(--grey-dim);border-radius:var(--radius-md);padding:var(--space-3);margin-top:var(--space-2);display:grid;grid-template-columns:1fr 1fr;gap:var(--space-2)}.rest-label{grid-column:1 / -1;font-size:.7rem;font-weight:700;color:var(--grey);text-transform:uppercase;letter-spacing:.08em;margin-bottom:var(--space-2);padding:0 5px;display:block}.btn-rest{font-size:.95rem;padding:var(--space-2) var(--space-3);color:var(--grey);border-color:var(--grey-dim);min-height:40px;transition:color var(--t-fast),border-color var(--t-fast),background var(--t-fast),box-shadow var(--t-fast)}.btn-rest:hover{color:var(--white);border-color:var(--grey);background:var(--grey-dim)}
